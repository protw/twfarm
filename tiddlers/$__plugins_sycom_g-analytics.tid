author: JeremyRuston
contributor: Sylvain Comte
core-version: >=5.0.0
dependents: 
description: G-Analytics: website statistics
list: readme settings usage
plugin-type: plugin
revision: 0
tags: 
title: $:/plugins/sycom/g-analytics
type: application/json
version: 1.3.1

{
    "tiddlers": {
        "$:/plugins/sycom/g-analytics/settings/disclaimer_title": {
            "title": "$:/plugins/sycom/g-analytics/settings/disclaimer_title",
            "caption": "This wiki uses Google Analytics",
            "text": "This tiddler caption field contains the title for your disclaimer tiddler\n"
        },
        "$:/plugins/sycom/g-analytics/googleanalytics.js": {
            "title": "$:/plugins/sycom/g-analytics/googleanalytics.js",
            "text": "/*\\\ntitle: $:/plugins/sycom/g-analytics/googleanalytics.js\ntype: application/javascript\nmodule-type: startup\n\nRuns Google Analytics with the account number in the tiddler `$:/GoogleAnalyticsAccount` and the domain name in `$:/GoogleAnalyticsDomain`. You may also track internal navigation. DNT and GDPR compliant.\n\n\\*/\n(function() {\n\n  /*jslint node: true, browser: true */\n  /*global $tw: false */\n  \"use strict\";\n\n  // Export name and synchronous status\n  exports.name = \"google-analytics\";\n  exports.platforms = [\"browser\"];\n  exports.after = [\"startup\"];\n  exports.synchronous = true;\n\n  exports.startup = function() {\n    var GA_Launched = 0; // GA active detector\n    // initializing disclaimer\n    var GA_DISCLAIMER_TITLE = $tw.wiki.getTiddler(\"$:/plugins/sycom/g-analytics/settings/disclaimer_title\").fields.caption || \"This wiki uses Google analytics\";\n    GA_DISCLAIMER_TITLE = GA_DISCLAIMER_TITLE.replace(/\\n/g, \"\");\n    // load informations about tracking\n    $tw.wiki.setText(GA_DISCLAIMER_TITLE, \"text\", null, $tw.wiki.getTiddlerText(\"$:/plugins/sycom/g-analytics/disclaimer\"));\n    // testing do not track before launching\n    var dnt = navigator.doNotTrack || 0;\n    if (dnt === \"1\") {\n      // tells the wiki that DNT is on for disclaimer adaptation\n      $tw.wiki.setText(\"$:/temp/GoogleAnalyticsDNT\", \"text\", null, \"yes\");\n    } else {\n      // getting parameters - account, domain, tracking tiddlers and gdpr - opt-in\n      var GA_ACCOUNT = $tw.wiki.getTiddlerText(\"$:/GoogleAnalyticsAccount\") || \"\",\n        GA_DOMAIN = $tw.wiki.getTiddlerText(\"$:/GoogleAnalyticsDomain\") || \"\",\n        GA_TRACKALL = $tw.wiki.getTiddlerText(\"$:/plugins/sycom/g-analytics/settings/track_all\") || \"no\",\n        GA_GDPR = \"yes\";\n      GA_ACCOUNT = GA_ACCOUNT.replace(/\\n/g, \"\");\n      GA_DOMAIN = GA_DOMAIN.replace(/\\n/g, \"\");\n      // handling domain parameter : user defined > from window location > \"auto\" fallback\n      if (GA_DOMAIN == \"\") GA_DOMAIN = window.location.hostname;\n      if (GA_DOMAIN == undefined) GA_DOMAIN = \"auto\";\n      GA_TRACKALL = GA_TRACKALL.replace(/\\n/g, \"\");\n      // create a \"hook\" on navigation to send data via tracker\n      $tw.wiki.addEventListener(\"change\", function(changes) {\n        // if first launch, initiates GA\n        if (GA_Launched === 0) {\n          // using ga \"isogram\" function\n          (function(i, s, o, g, r, a, m) {i['GoogleAnalyticsObject'] = r;i[r] = i[r] || function() {(i[r].q = i[r].q || []).push(arguments)}, i[r].l = 1 * new Date();a = s.createElement(o),  m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)})(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');\n          GA_Launched = 1;\n        }\n        // get informations about GDPR opt-in (or not)\n        GA_GDPR = $tw.wiki.getTiddlerText(\"$:/temp/GoogleAnalyticsGDPRoption\") || \"yes\";\n        GA_GDPR = GA_GDPR.replace(/\\n/g, \"\");\n        if (GA_GDPR !== \"yes\") {\n          // GDPR has been cleared by opt-in\n          if (GA_TRACKALL === \"yes\") {\n            ga('create', GA_ACCOUNT, GA_DOMAIN);\n            // dealing with user settings !todo check if options is associated with wiki or $tw\n            var options = $tw.wiki.options || {},\n              storyTitle = options.storyTitle || \"$:/StoryList\",\n              historyTitle = options.historyTitle || \"$:/HistoryList\";\n            // getting storyList (displayed) historyList (last displayed) and last item\n            var storyList = $tw.wiki.getTiddler(storyTitle).fields.list;\n            var history = $tw.wiki.getTiddlerText(historyTitle) || \"[{\\\"title\\\": \\\"\" + storyList[0] + \"\\\"}]\";\n            var historyList = JSON.parse(history);\n            var GA_CURRENT = historyList[historyList.length - 1].title;\n            // if last item has not been closed, prepare data and send to tracker\n            if (storyList.includes(GA_CURRENT)) {\n              // if history modified is true send tracker (else user may just closed another tiddler)\n              // note that clicking on a tiddlerlink from already opened tiddler will count\n              if ((historyList.length ===1 || changes[historyTitle]) && GA_GDPR !== \"yes\") {\n                ga('set', 'page', window.location.pathname + '/' + GA_CURRENT);\n                ga('set', 'title', GA_CURRENT);\n                ga('send', 'pageview');\n              }\n            }\n          } else {\n            // get informations about GDPR opt-out\n            GA_GDPR = $tw.wiki.getTiddlerText(\"$:/temp/GoogleAnalyticsGDPRoption\") || \"yes\";\n            GA_GDPR = GA_GDPR.replace(/\\n/g, \"\");\n            // send data for whole page once only\n            ga('create', GA_ACCOUNT, GA_DOMAIN);\n            ga('send', 'pageview');\n          }\n        }\n      });\n    }\n  }\n})();\n",
            "type": "application/javascript",
            "module-type": "startup"
        },
        "$:/plugins/sycom/g-analytics/disclaimer": {
            "title": "$:/plugins/sycom/g-analytics/disclaimer",
            "text": "<<i18n disclaimer_common $:/plugins/sycom/g-analytics>>\n\n<$reveal type=\"match\" stateTitle=\"$:/temp/GoogleAnalyticsDNT\" text=\"yes\">\n\n<<i18n disclaimer_dnt $:/plugins/sycom/g-analytics>>\n</$reveal>\n\n<$reveal type=\"nomatch\" stateTitle=\"$:/temp/GoogleAnalyticsDNT\" text=\"yes\">\n   <$reveal type=\"nomatch\" stateTitle=\"$:/temp/GoogleAnalyticsGDPRoption\" text=\"no\">\n\n<<i18n disclaimer_gdpr $:/plugins/sycom/g-analytics>>\n   </$reveal>\n   <$reveal type=\"match\" stateTitle=\"$:/temp/GoogleAnalyticsGDPRoption\" text=\"no\">\n\n<<i18n disclaimer_nogdpr $:/plugins/sycom/g-analytics>>\n      <$reveal type=\"match\" stateTitle=\"$:/plugins/sycom/g-analytics/settings/track_all\" text=\"yes\">\n<<i18n disclaimer_internal $:/plugins/sycom/g-analytics>>\n      </$reveal>\n\n<<i18n disclaimer_settings $:/plugins/sycom/g-analytics>>\n   </$reveal>\n</$reveal>\n"
        },
        "$:/plugins/sycom/g-analytics/disclaimer_notification": {
            "title": "$:/plugins/sycom/g-analytics/disclaimer_notification",
            "text": "<<i18n disclaimer_notification $:/plugins/sycom/g-analytics>>\n"
        },
        "$:/plugins/sycom/g-analytics/i18n/en-GB/disclaimer_common": {
            "title": "$:/plugins/sycom/g-analytics/i18n/en-GB/disclaimer_common",
            "text": "As many website do, this wiki can use [[Google Analytics|https://analytics.google.com]] (via the [[G-Analytics plugin|$:/plugins/sycom/g-analytics]]) to help analyse how much visitors use this site and where they come from. Google uses “[[cookies|https://en.wikipedia.org/wiki/HTTP_cookie]]”, which are small text files placed on your computer, to collect standard internet log information and visitor behaviour information in an anonymous form.\n"
        },
        "$:/plugins/sycom/g-analytics/i18n/en-GB/disclaimer_dnt": {
            "title": "$:/plugins/sycom/g-analytics/i18n/en-GB/disclaimer_dnt",
            "text": "However, as you are visiting, with your browser in private mode or have activated [[Do Not Track|http://donottrack.us/]], the plugin is fully deactivated. So no information can be collected nor sent anywhere.\n"
        },
        "$:/plugins/sycom/g-analytics/i18n/en-GB/disclaimer_gdpr": {
            "title": "$:/plugins/sycom/g-analytics/i18n/en-GB/disclaimer_gdpr",
            "text": "However, as you did not \"opt-in\" to be part of our survey panel, the plugin is deactivated for now and no information will be collected nor sent anywhere. You may change your mind whenever you want by just checking this &nbsp;<<slideCheck $:/temp/GoogleAnalyticsGDPRoption '' 'no' 'yes' 'yes' 'tracking?'>>\n"
        },
        "$:/plugins/sycom/g-analytics/i18n/en-GB/disclaimer_internal": {
            "title": "$:/plugins/sycom/g-analytics/i18n/en-GB/disclaimer_internal",
            "text": "Note also that as ''internal link tracker option is activated'' on this wiki, so the tracker will send the title of each tiddler you're visiting (still anonymously though).\n"
        },
        "$:/plugins/sycom/g-analytics/i18n/en-GB/disclaimer_nogdpr": {
            "title": "$:/plugins/sycom/g-analytics/i18n/en-GB/disclaimer_nogdpr",
            "text": "As you did accept to be part of our panel, the plugin is now collecting data about your navigation.\n"
        },
        "$:/plugins/sycom/g-analytics/i18n/en-GB/disclaimer_notification": {
            "title": "$:/plugins/sycom/g-analytics/i18n/en-GB/disclaimer_notification",
            "text": "This website would like to know more about your visit by enabling an analytics tracker (and //cookies//). If you allow it, please check here &nbsp;<<slideCheck $:/temp/GoogleAnalyticsGDPRoption '' 'no' 'yes' 'yes' 'tracking?'>>. <$link to={{$:/plugins/sycom/g-analytics/settings/disclaimer_title!!caption}} >read more</$link>.\n"
        },
        "$:/plugins/sycom/g-analytics/i18n/en-GB/disclaimer_settings": {
            "title": "$:/plugins/sycom/g-analytics/i18n/en-GB/disclaimer_settings",
            "text": "Your anonymity is safe here but you may wish to disable all tracking since data are sent to Google who may use them for marketing purpose. The plugin is compliant with [[Do Not Track|http://donottrack.us/]]. So,\n\n* if you enable ''do not track'' option ''in your browser'' and reload the page the wiki will not collect nor send data any more. You may also use privacy extensions to control which site can track you. [[All About Do Not Track|https://allaboutdnt.com/]] website provide usefull informations about all this.\n* some browsers enable do not track when using \"private mode\" ([[Firefox|http://firefox.com]] does). If you visit the wiki from those browsers in \"private mode\" no data will be sent either.\n* you may also want to \"opt-out\". If so, uncheck this <<slideCheck $:/temp/GoogleAnalyticsGDPRoption '' 'no' 'yes' 'yes' 'tracking?'>>\n"
        },
        "$:/plugins/sycom/g-analytics/i18n/en-GB/settings": {
            "title": "$:/plugins/sycom/g-analytics/i18n/en-GB/settings",
            "text": "You have two value and one option parameters to set, ''only first is mandatory''. You may (should?) also customize privacy disclaimers to fit your wiki language or local laws. Save and reload after changing.\n\n!!Parameters\n\n''[[Google Analytics Account|$:/GoogleAnalyticsAccount]]'' (mandatory) : your^^1^^ code of the form `UA-XXXXXX-XX` where X are digits<br/><$edit-text tiddler=\"$:/GoogleAnalyticsAccount\" default=\"\" tag=\"input\"/>\n\n''[[Google Analytics Domain|$:/GoogleAnalyticsDomain]]'' (optional) : the website URL where the TiddlyWiki file is published. Defaults to `auto` if not set.<br/><$edit-text tiddler=\"$:/GoogleAnalyticsDomain\" default=\"\" tag=\"input\"/>\n\n<<slideCheck $:/plugins/sycom/g-analytics/settings/track_all '' 'yes' 'no' 'no' 'track all tiddlers'>> If you want the tracker to track also internal links, check this (will set [[Google Analytics Track All|$:/plugins/sycom/g-analytics/settings/track_all]] to \"yes\")\n\n^^1^^ //if not, you may send data to other Google Analytics user.//\n\n!! Privacy information customizing\nYou may personalize or translate messages displayed by the plugin by editing those tiddlers (see different cases below). Please note that future updates of plugin may revert your edits.\n\n* [[Notification message|$:/plugins/sycom/g-analytics/disclaimer_notification]]\n\n* ''Privacy disclaimer''\n*# Title : <$edit-text tiddler=\"$:/plugins/sycom/g-analytics/settings/disclaimer_title\" field=\"caption\" tag=\"input\"/>\n"
        },
        "$:/plugins/sycom/g-analytics/i18n/en-GB/usage": {
            "title": "$:/plugins/sycom/g-analytics/i18n/en-GB/usage",
            "text": "!! Create a Google Analytics account\n\nIf you don't already have an account:\n\n# Go to the Google Analytics website: http://www.google.com/analytics/\n# Click the ''Access Google Analytics'' button and follow instructions to set up your account\n# Enter the URL where the wiki is hosted\n# Note the Tracking ID for this domain of the form `UA-XXXXXX-XX`\n\n!! Install the plugin on your local copy of the TiddlyWiki\n\n# ''Backup your TiddlyWiki''. Just in case\n# Install the plugin via the plugin manager in control panel\n# Save the TiddlyWiki and refresh the page to load the plugin\n# Go to [[$:/ControlPanel]] > Plugins tab and unfold the Google Analytics Plugin\n# Go to the //settings// tab and edit the parameters\n# Save the TiddlyWiki\n\n!! Upload the new version of your TiddlyWiki\n\n# Upload the saved TiddlyWiki to TiddlySpot, GitHub, GitLab or other web host\n# Return to your Google Analytics page to check that your site is being tracked\n"
        },
        "$:/plugins/sycom/g-analytics/i18n/fr-FR/disclaimer_common": {
            "title": "$:/plugins/sycom/g-analytics/i18n/fr-FR/disclaimer_common",
            "text": "Comme le font beaucoup de sites internet, ce wiki utilise [[Google Analytics|https://analytics.google.com]] (via le plugin [[G-Analytics plugin|$:/plugins/sycom/g-analytics]]) pour aider à analyser combien de visiteurs utilisent le site et d'où ils viennent. Google utilise des “[[cookies|https://fr.wikipedia.org/wiki/Cookie_(informatique)]]”, qui sont de petit fichiers texte placés sur votre ordinateur pour collecter des informations de connexion classique sous une forme anonyme.\n"
        },
        "$:/plugins/sycom/g-analytics/i18n/fr-FR/disclaimer_dnt": {
            "title": "$:/plugins/sycom/g-analytics/i18n/fr-FR/disclaimer_dnt",
            "text": "Toutefois, comme vous visitez ce wiki avec votre navigateur en mode \"navigation privée\" ou que vous avez activé [[Do Not Track|http://donottrack.us/]], le plugin est complètement désactivé. Aucune information ne pourra être collectée ni envoyée nulle part.\n"
        },
        "$:/plugins/sycom/g-analytics/i18n/fr-FR/disclaimer_gdpr": {
            "title": "$:/plugins/sycom/g-analytics/i18n/fr-FR/disclaimer_gdpr",
            "text": "Toutefois, comme vous n'avez pas fait le choix d'intégrer notre panel de suivi, le plugin est désactivé pour le moment et aucune information ne sera collectée ni envoyée nulle part. Vous pouvez changer d'avis à tout moment juste en validant ici &nbsp;<<slideCheck $:/temp/GoogleAnalyticsGDPRoption '' 'no' 'yes' 'yes' 'suivi?'>>\n"
        },
        "$:/plugins/sycom/g-analytics/i18n/fr-FR/disclaimer_internal": {
            "title": "$:/plugins/sycom/g-analytics/i18n/fr-FR/disclaimer_internal",
            "text": "Notez également que ''le suivi de navigation interne est activé'' sur ce wiki. Le plugin collectera donc des données sur le titre de chaque tiddler visité (toujours anonymement).\n"
        },
        "$:/plugins/sycom/g-analytics/i18n/fr-FR/disclaimer_nogdpr": {
            "title": "$:/plugins/sycom/g-analytics/i18n/fr-FR/disclaimer_nogdpr",
            "text": "Comme vous avez accepté d'intégrer notre panel de suivi, le plugin collecte désormais des informations sur votre navigation.\n"
        },
        "$:/plugins/sycom/g-analytics/i18n/fr-FR/disclaimer_notification": {
            "title": "$:/plugins/sycom/g-analytics/i18n/fr-FR/disclaimer_notification",
            "text": "Ce wiki aimerait en savoir plus sur votre visite par l'activation du suivi Google Analytics (et des //cookies//). Si vous l'autorisez, merci de le valider ici &nbsp;<<slideCheck $:/temp/GoogleAnalyticsGDPRoption '' 'no' 'yes' 'yes' 'suivi?'>>. <$link to={{$:/plugins/sycom/g-analytics/settings/disclaimer_title!!caption}} >en savoir plus</$link>.\n"
        },
        "$:/plugins/sycom/g-analytics/i18n/fr-FR/disclaimer_settings": {
            "title": "$:/plugins/sycom/g-analytics/i18n/fr-FR/disclaimer_settings",
            "text": "Votre anonymat est préservé ici, mais vous voudrez peut-être désactiver toute collecte de statistique, dans la mesure où les données sont envoyées à Google qui peut les utiliser à des fins commerciales. Le plugin est compatible avec [[Do Not Track|http://donottrack.us/]]. Donc,\n\n* si vous activez l'option ''ne pas pister'' (//do not track//) ''dans votre navigateur'' le wiki ne collectera et n'enverra plus aucune donnée. Il est également possible d'utiliser des extensions pour votre navigateur qui contrôlent qui vous piste. Le site [[All About Do Not Track|https://allaboutdnt.com/]] (en anglais) fourni des informations utiles sur ce sujet.\n* certains navigateurs activent //do not track// lorsque l'on passe en mode \"navigation privée\" ([[Firefox|http://firefox.com]] le fait). Si vous visitez le wiki dans ce mode aucune donnée ne sera alors envoyée.\n* dans tous les cas vous pouvez aussi faire le choix de sortir du panel <<slideCheck $:/temp/GoogleAnalyticsGDPRoption '' 'no' 'yes' 'yes' 'tracking?'>>\n"
        },
        "$:/plugins/sycom/g-analytics/i18n/fr-FR/readme": {
            "title": "$:/plugins/sycom/g-analytics/i18n/fr-FR/readme",
            "text": "Ce [plugin G-Analytics](#$:/plugins/sycom/g-analytics) constitue une alternative à celui que vous trouverez dans la librairie officielle de TiddlyWiki.\n\nIl est compatible avec [Do Not Track][dnt] et avec le [RGPD][rgpd]. Il permet aussi un suivi de la navigation d'un tiddler à l'autre.\n\nVoyez la [page de demonstration][plugindemo] ou la documentation intégrée pour voir comment il fonctionne.\n\n## Sources / licenses\n* basé sur [le plugin officiel][official] de TiddlyWiki qui intègre [le code officiel de Google][googlecode]\n* [ce plugin][source] est sous une licence [BSD 3-Clause license][license] très similaire à celle de TiddlyWiki.\n\n[plugindemo]: https://sycom.gitlab.io/TiddlyWiki-Plugins\n[official]: https://github.com/Jermolene/TiddlyWiki5/tree/master/plugins/tiddlywiki/googleanalytics\n[googlecode]: https://developers.google.com/analytics/devguides/collection/analyticsjs\n[dnt]: http://donottrack.us/\n[source]: https://framagit.org/sycom/TiddlyWiki-Plugins/plugins/sycom/g-analytics\n[rgpd]: https://fr.wikipedia.org/wiki/R%C3%A8glement_g%C3%A9n%C3%A9ral_sur_la_protection_des_donn%C3%A9es\n[license]: https://framagit.org/sycom/TiddlyWiki-Plugins/LICENSE.md\n",
            "type": "text/x-markdown",
            "caption": "Lisez-moi"
        },
        "$:/plugins/sycom/g-analytics/i18n/fr-FR/settings": {
            "title": "$:/plugins/sycom/g-analytics/i18n/fr-FR/settings",
            "text": "Il y a deux paramètres et une option à régler, ''seul le premier est obligatoire''. Vous pouvez (devriez?) également personnaliser les messages d'information sur la vie privée pour les adapter à votre langue ou aux règlements en vigueur localement. Sauvegardez et rechargez le wiki après changement.\n\n!!Paramètres\n\n''[[Compte Google Analytics|$:/GoogleAnalyticsAccount]]'' (obligatoire) : votre^^1^^ code sous la forme `UA-XXXXXX-XX` où X sont des nombres<br/><$edit-text tiddler=\"$:/GoogleAnalyticsAccount\" default=\"\" tag=\"input\"/>\n\n''[[Domaine Google Analytics|$:/GoogleAnalyticsDomain]]'' (optionnel) : l'adresse du site où le wiki est publié. Par défaut, `auto` if not set.<br/><$edit-text tiddler=\"$:/GoogleAnalyticsDomain\" default=\"\" tag=\"input\"/>\n\n<<slideCheck $:/plugins/sycom/g-analytics/settings/track_all '' 'yes' 'no' 'no' 'suivre tous les tiddlers'>> Si vous souhaitez suivre la navigation interne au wiki, activez cette option (mettra [[Google Analytics Track All|$:/plugins/sycom/g-analytics/settings/track_all]] à la valeur \"yes\")\n\n^^1^^ //sinon, vous risquez d'envoyer vos données de suivi sur un autre compte Analytics (ou nulle part)//\n\n!! Personnalisation des informations sur la vie privée\nVous pouvez personnaliser ou traduire les messages affichés par le plugin en éditant ces différents tiddlers. Notez que des mises à jours du plugin nécessiteront peut-être des mises à jour de votre part.\n\n* [[Message de notification|$:/plugins/sycom/g-analytics/disclaimer_notification]]\n\n* ''Informations sur la vie privée''\n** Titre du message : <$edit-text tiddler=\"$:/plugins/sycom/g-analytics/settings/disclaimer_title\" field=\"caption\" tag=\"input\"/>\n"
        },
        "$:/plugins/sycom/g-analytics/i18n/fr-FR/usage": {
            "title": "$:/plugins/sycom/g-analytics/i18n/fr-FR/usage",
            "text": "!! Créez-vous un compte Google Analytics\n\nSi vous n'avez pas déjà un compte :\n\n# Rendez vous sur le site de Google Analytics : http://www.google.com/analytics/\n# Cliquez sur le bouton ''Accéder à Google Analytics'' et suivez les instructions pour créer votre compte\n# Donnez l'adresse URL à laquelle votre wiki est hébergé\n# Récupérez l'identifiant de suivi pour ce domaine sous la forme `UA-XXXXXX-XX`\n\n!! Installez le plugin sur votre TiddlyWiki\n\n# ''Faites une sauvegarde de votre TiddlyWiki''. Juste au cas où\n# Installez le plugin en le glissant déposant depuis ici sur votre wiki\n# Enregistrez votre TiddlyWiki et rafraichissez la page pour mettre en route le plugin\n# Allez dans [[$:/ControlPanel]] > onglet Plugins et dépliez le plugin Google Analytics\n# Allez dans l'onglet //settings// et mettez à jour les paramètres\n# Sauvegardez votre TiddlyWiki\n\n!! Chargez la nouvelle version de votre TiddlyWiki\n\n# Envoyez la nouvelle version de votre TiddlyWiki sur TiddlySpot, GitHub, GitLab ou tout autre hébergeur\n# Retournez à votre page Google Analytics page pour vérifier que votre site est bien suivi.\n"
        },
        "$:/plugins/sycom/g-analytics/icon": {
            "title": "$:/plugins/sycom/g-analytics/icon",
            "tags": "$:/tags/Image",
            "text": "<svg class=\"feather tc-image-feather-icons tc-image-button\" viewBox=\"0 0 128 128\" width=\"22pt\" height=\"22pt\">\n<g>\n<path d=\"M65 5L13 35v61l52 30 53-30V35L65 5zm-.8 27c28.2 0 44.3 32.2 44.3 32.2S92.4 96.4 64.2 96.4c-28.2 0-44.3-32.2-44.3-32.2S36 32 64.2 32z\"/>\n<path d=\"M64.2 46.5a17.6 17.6 0 0 0-17.7 17.7 17.6 17.6 0 0 0 17.7 17.6 17.6 17.6 0 0 0 17.6-17.6 17.6 17.6 0 0 0-17.6-17.7zm.7 5.2a24.6 24.6 0 0 1 9.2 1.8v5a19.7 19.7 0 0 0-4.2-1.7 16 16 0 0 0-4.2-.5c-2.6 0-4.6.7-6 2-1.5 1.4-2.2 3.4-2.2 6s.7 4.5 2 6c1.4 1.3 3.4 2 5.9 2h1.9a7.8 7.8 0 0 0 1.5-.5v-4.7h-4V63h10.3v11.7a24.2 24.2 0 0 1-5.1 1.7c-1.8.4-3.6.6-5.5.6-4.2 0-7.6-1.2-10-3.4a11.8 11.8 0 0 1-3.8-9.2c0-3.9 1.3-7 3.8-9.2A15 15 0 0 1 65 51.7z\"/>\n</g>\n</svg>\n"
        },
        "$:/ext/modules/macros/i18n-macro.js": {
            "text": "/*\\\ntitle: $:/ext/modules/macros/i18n-macro.js\ntype: application/javascript\nmodule-type: macro\nversion: 0.3.0\n\ni18n macro for easiest translation of any string outside lingo\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/*\ni18n macro enables automatic translation of a tiddler in wiki language (if exists)\ncould, maybe, in the future, take care of browser language\n*/\n\nexports.name = \"i18n\";\n\nexports.params = [\n  {name: \"title\"}, // short title of the tiddler (without translation path)\n  {name: \"domain\"}, // translation path (default $:)\n  {name: \"dico\"}, // tells if mode is dictionnary or tiddler (default false)\n  {name: \"orig_lang\"}, // original tiddler language (default en-GB)\n  {name: \"inline\"} // boolean for inline transclusion (default false)\n];\n\n/*\nRun the macro\n*/\nexports.run = function(title,domain,dico,orig_lang,inline) {\n  // if first run, will create a styling tiddler for edit button\n  if($tw.wiki.getTiddler(\"$:/temp/ext/modules/macros/i18n-style\") === undefined) {\n    $tw.wiki.setText(\"$:/temp/ext/modules/macros/i18n-style\",\"text\",null,\".i18n-edit{float:right;display:none;opacity:0.5} .i18n-edit svg {width:16px} div:hover > p > .i18n-edit, div:hover > .i18n-edit, h1:hover > .i18n-edit, h2:hover > .i18n-edit, h3:hover > .i18n-edit{display:block} .i18n-edit.alert{color:red;margin:0 4px}\");\n    $tw.wiki.setText(\"$:/temp/ext/modules/macros/i18n-style\",\"tags\",null,\"$:/tags/Stylesheet\");\n  }\n  // whatever, let's go for translation\n\tvar parent = this.parentDomNode,\n    title = title || this.getVariable(\"currentTiddler\"),\n    dom = domain || \"$:\",\n    dico = dico || \"no\",\n    base = orig_lang || \"en-GB\",\n    inline = inline || false,\n    language = this.wiki.getTiddler(\"$:/language\").fields.text || \"$:/languages/en-GB\",\n    lang = (this.wiki.getTiddler(language) !== undefined ?\n      this.wiki.getTiddler(language).fields.name :\n      \"en-GB\"),\n    // getting base and translation tiddler depending on \"dico\" mode active\n    tid = (dico === \"dico\" ?\n      this.wiki.getTiddler(dom+\"/i18n/\"+base) :\n      this.wiki.getTiddler(dom+\"/i18n/\"+base+\"/\"+title)),\n    translation = (dico === \"dico\" ?\n      this.wiki.getTiddler(dom+\"/i18n/\"+lang) :\n      this.wiki.getTiddler(dom+\"/i18n/\"+lang+\"/\"+title)),\n    option = {};\n    if(inline === true) option.parseAsInline = true;\n  // checks if there is a translation for the tiddlers\n  if(!translation) {\n  // if not checks if there is an original\n    if(!tid) {\n      // if not displays a text telling the original is not defined\n      return (dico === \"dico\" ?\n        \"<div class='tc-tiddler-info'>sorry but there is not any [[\" + dom+\"/i18n/\"+base+\"]] dictionnary tiddler</div>\" :\n        \"<div class='tc-tiddler-info'>sorry but there is not any [[\" + dom+\"/i18n/\"+base+\"/\"+title + \"]] tiddler</div>\")\n    }\n  // if yes, displays original\n    else {\n      var html;\n      if(dico === \"dico\") { // dictionnary reference\n        html = \"<$link to='\" + dom+\"/i18n/\"+base+ \"' class='i18n-edit'>{{$:/core/images/edit-button}}</$link>\";\n        html += \"<$link to='\" + dom+\"/i18n/\"+lang + \"' class='i18n-edit alert'> + \" + lang + \"</$link>\";\n        html += \"\\n\\n{{\" + dom+\"/i18n/\"+base+\"##\"+title + \"}}\";\n      }\n      else { // full tiddler reference\n        html = \"<$link to='\" + dom+\"/i18n/\"+base+\"/\"+title + \"' class='i18n-edit'>{{$:/core/images/edit-button}}</$link>\";\n        html += \"<$link to='\" + dom+\"/i18n/\"+lang+\"/\"+title + \"' class='i18n-edit alert'> + \" + lang + \"</$link>\";\n        html += \"\\n\\n{{\" + dom+\"/i18n/\"+base+\"/\"+title + \"}}\";\n      }\n      return html;\n    }\n\t}\n\telse {\n    var html;\n    if(dico === \"dico\") { // dictionnary reference\n      html = \"<$link to='\" + dom+\"/i18n/\"+lang+\"' class='i18n-edit'>{{$:/core/images/edit-button}}</$link>\";\n      html += \"\\n\\n{{\" + dom+\"/i18n/\"+lang+\"##\"+title + \"}}\";\n    }\n    else  { // full tiddler reference\n      html = \"<$link to='\" + dom+\"/i18n/\"+lang+\"/\"+title + \"' class='i18n-edit'>{{$:/core/images/edit-button}}</$link>\";\n      html += \"\\n\\n{{\" + dom+\"/i18n/\"+lang+\"/\"+title + \"}}\";\n    }\n    return html;\n  }\n};\n\n})();\n",
            "title": "$:/ext/modules/macros/i18n-macro.js",
            "type": "application/javascript",
            "module-type": "macro",
            "version": "0.3.0"
        },
        "$:/plugins/sycom/g-analytics/notification": {
            "title": "$:/plugins/sycom/g-analytics/notification",
            "tags": "$:/tags/PageTemplate",
            "text": "<$reveal type=\"nomatch\" state=\"$:/temp/HideAnalyticsWarning\" text=\"yes\">\n    <div class=\"tc-plugin-reload-warning\">\n        <$set name=\"tv-config-toolbar-class\" value=\"\">\n\n{{$:/plugins/sycom/g-analytics/disclaimer_notification}}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<$button set=\"$:/temp/HideAnalyticsWarning\" setTo=\"yes\" class=\"tc-btn-invisible\">{{$:/core/images/close-button}}</$button>\n        </$set>\n    </div>\n</$reveal>\n"
        },
        "$:/plugins/sycom/g-analytics/i18n/en-GB/readme": {
            "title": "$:/plugins/sycom/g-analytics/i18n/en-GB/readme",
            "text": "This [G-Analytics plugin](#$:/plugins/sycom/g-analytics) is an alternative version for the official plugin you can find in TiddlyWiki library.\n\nIt's compliant with [Do Not Track][dnt] and also with [GDPR][rgpd]. It enables also individual tiddlers tracking.\n\nHave a look at [demo page on the web][plugindemo] or at integrated documentation to see how it works.\n\n## Sources / licenses\n* based upon [official google analytics plugin][official] of TiddlyWiki which implements [official Google code][googlecode]\n* [this plugin][source] is released under similar [BSD 3-Clause license][license] as TiddlyWiki.\n\n[plugindemo]: https://sycom.gitlab.io/TiddlyWiki-Plugins\n[official]: https://github.com/Jermolene/TiddlyWiki5/tree/master/plugins/tiddlywiki/googleanalytics\n[googlecode]: https://developers.google.com/analytics/devguides/collection/analyticsjs\n[dnt]: http://donottrack.us/\n[source]: https://framagit.org/sycom/TiddlyWiki-Plugins/plugins/sycom/g-analytics\n[rgpd]: https://en.wikipedia.org/wiki/General_Data_Protection_Regulation\n[license]: https://framagit.org/sycom/TiddlyWiki-Plugins/LICENSE.md\n",
            "type": "text/x-markdown",
            "created": "20151119173416000",
            "modified": "20190332172200000",
            "caption": "Readme"
        },
        "$:/plugins/sycom/g-analytics/readme": {
            "title": "$:/plugins/sycom/g-analytics/readme",
            "caption": "Readme",
            "text": "<<i18n readme $:/plugins/sycom/g-analytics>>\n"
        },
        "$:/plugins/sycom/g-analytics/settings": {
            "title": "$:/plugins/sycom/g-analytics/settings",
            "tags": "$:/tags/Macro",
            "text": "\\define slideCheck(tid field:'text' checked unchecked default tooltip)\n<$checkbox class=\"switch\"\n  tiddler=\"$tid$\"\n  field=\"$field$\"\n  checked=\"$checked$\"\n  unchecked=\"$unchecked$\"\n  default=\"$default$\">\n  <div title=\"$tooltip$\" class=\"slider round\"></div>\n  <span class=\"switchtext\"></span>\n</$checkbox>\n\\end\n\n<<i18n settings $:/plugins/sycom/g-analytics>>\n"
        },
        "$:/plugins/sycom/g-analytics/Stylesheet": {
            "title": "$:/plugins/sycom/g-analytics/Stylesheet",
            "created": "20190419133629300",
            "modified": "20190423183600000",
            "tags": "$:/tags/Stylesheet",
            "type": "text/vnd.tiddlywiki",
            "text": "/* inspired from https://codepen.io/AllThingsSmitty/pen/MmxxOz */\n.switch {\n  margin:0;\n  display: inline-block;\n  height: 1.5em;\n  position: relative;\n  width:2.6em;\n  vertical-align:bottom;\n}.switch input[type=checkbox] {\n  display:none;\n}.slider {\n  background-color: #888888;\n  bottom: 0;\n  cursor: pointer;\n  left: 0;\n  position: absolute;\n  right: 0;\n  top: 0;\n  transition: .4s;\n}.slider:before {\n  background-color: #fff;\n  bottom: 4px;\n  content: \"\";\n  height: 1em;\n  left: 4px;\n  position: absolute;\n  transition: .4s;\n  width: 1em;\n}input:checked + span .slider {\n  background-color: #5778d8;\n}input:checked + span .slider:before {\n  transform: translateX(1em);\n}span .slider.round {\n  border-radius: 1em;\n}span .slider.round:before {\n  border-radius: 50%;\n}input + span .switchtext:before {\n  display: inline-block;\n  color: white;\n  content: 'no';\n  font-size: .85em;\n  transform: translateX(1.6em) translatey(-.15em);\n}input:checked + span .switchtext:before {\n  content: 'on';\n  transform: translateX(.2em) translatey(-.15em);\n}.tc-plugin-reload-warning input + span .switchtext:before {\n  transform: translateX(.75em) translatey(-.15em);\n}.tc-plugin-reload-warning input:checked + span .switchtext:before {\n  transform: translateX(-.8em) translatey(-.15em);\n}\n"
        },
        "$:/plugins/sycom/g-analytics/usage": {
            "title": "$:/plugins/sycom/g-analytics/usage",
            "text": "<<i18n usage $:/plugins/sycom/g-analytics>>\n"
        }
    }
}